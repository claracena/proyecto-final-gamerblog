{% extends 'base.html' %}
{% block title %} Gamer Blog {% endblock %}

{% block content %}
{% load static %}

<div class="container custom-extra-height">
    <div class="nk-blog-fullwidth">
        
    <!-- post -->
    
    {% for post in object_list %}

    <div class="nk-blog-post">
        <a href="{% url 'article' post.pk %}" class="nk-post-img">
            <img src="{% get_media_prefix %}{{ post.image }}" alt={{ post.title }} style="margin-bottom: -1px; width: -webkit-fill-available; height: 280px; object-fit: cover; object-position: 100% 50%;" />
            <span class="nk-post-comments-count">{{ post.comments }}</span>
        </a>
        <div class="custom-index-card-container">
            <div class="nk-gap-2"></div>
            <div class="row vertical-gap">
                <div class="col-md-7 col-lg-8">
                    <h2 class="nk-post-title h4">
                        <a href="{% url 'article' post.pk %}">{{ post.title|lower }}</a>
                    </h2>
                    <div class="nk-gap"></div>
                    <div class="nk-post-text">
                        <p>{{ post.body|truncatechars:400|striptags }}</p>
                        </p>
                    </div>
                </div>
                <div class="col-md-5 col-lg-4">
                    <div class="nk-post-by">
                        <img src="{{ post.author.profile_image.url }}" alt="Avatar" class="rounded-circle" width="60" />
                        por <a href="{% url 'user-profile' post.author.id %}">{{ post.author }}</a> <br />
                        {{ post.pub_date|date:'d/m/Y' }} <br><br>
                    </div>
                    <div class="nk-gap-3"></div>
                    <div class="text-right">
                        <a href="{% url 'article' post.pk %}" class="nk-btn nk-btn-rounded nk-btn-color-dark-3 nk-btn-hover-color-main-1" style="line-height: 2 !important;">Seguir Leyendo</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    

    {% endfor %}




    <!-- pie de pagina -->
    <div class="nk-pagination nk-pagination-center">
        <a href="#" class="nk-pagination-prev">
            <span class="fa fa-arrow-left"></span>
        </a>
        <nav>
            <a class="nk-pagination-current" href="#">1</a>
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">4</a>
            <span>...</span>
            <a href="#">14</a>
        </nav>
        <a href="#" class="nk-pagination-next">
            <span class="fa fa-arrow-right"></span>
        </a>
    </div>
</div>

{% endblock %}